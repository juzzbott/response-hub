@model IList<Enivate.ResponseHub.Model.Groups.Group>

@{
    ViewBag.Title = "Groups";
}
<h1>Groups</h1>

<a href="/admin/groups/create" class="btn btn-primary btn-icon btn-lg top-10"><i class="fa fa-plus"></i> Create group</a>

<div class="search-group-form">
	<h4>Search groups</h4>
	<form class="form-inline" method="get" action="/admin/groups">
		<div class="row">
			<div class="col-sm-6 col-lg-4">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search keywords..." name="q" id="GroupSearch" value="@Request.QueryString["q"]">
					<span class="input-group-btn">
						<button class="btn btn-default btn-icon" type="submit"><i class="fa fa-search"></i>Search</button>
					</span>
				</div><!-- /input-group -->
			</div><!-- /.col-lg-6 -->
		</div><!-- /.row -->
	</form>
</div>

@if (!String.IsNullOrEmpty(Request.QueryString["q"]))
{

	<div class="row">
		<div class="col-xs-12">
			<p class="lead bottom-5">Displaying @Model.Count result@(Model.Count != 1 ? "s" : "") for <strong>'@Request.QueryString["q"]'</strong></p>
			<p><a href="/admin/groups" class="btn-icon text-muted"><i class="fa fa-times-circle-o"></i>Clear search results</a></p>
		</div>
	</div>

}

<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>Name</th>
			<th>Capcode</th>
			<th>Service</th>
			<th>Created</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		@if (Model == null || Model.Count == 0)
		{
			<tr>
				<td colspan="5">No groups found.</td>
			</tr>
		}
		@foreach(var group in Model)
		{
			<tr>
				<td><a href="/admin/groups/@group.Id"><strong>@group.Name</strong></a></td>
				<td>@group.Capcode</td>
				<td>@Html.EnumDescription(group.Service)</td>
				<td>@group.Created.ToString("yyyy-MM-dd")</td>
				<td><a href="/admin/groups/@group.Id/edit" title="Edit group"><i class="fa fa-pencil-square-o"></i></a></td>
			</tr>
		}
	</tbody>
</table>