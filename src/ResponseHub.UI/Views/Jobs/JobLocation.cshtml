@model Enivate.ResponseHub.UI.Models.Messages.JobMessageViewModel

<h3>Location</h3>

<p>
	@if (Model.Location.Coordinates.Latitude != 0 && Model.Location.Coordinates.Longitude != 0)
	{
		@Html.Raw(String.Format("Lat/Lng: {0}, {1} -", Model.Location.Coordinates.Latitude, Model.Location.Coordinates.Longitude));
	}
	Map ref: @Html.EnumDescription(Model.Location.MapType) @Model.Location.MapReference <br />
	@Model.Location.AddressInfo
</p>

@if (Model.Location.Coordinates.Latitude != 0 && Model.Location.Coordinates.Longitude != 0)
{
	<div id="map-canvas" style="height: 400px;"></div>
	<script type="text/javascript">

		var mapConfig = {
			lat: Number(@Model.Location.Coordinates.Latitude),
			lon: Number(@Model.Location.Coordinates.Longitude),
			zoom: 13,
			minZoom: 4,
			scrollWheel: false,
			mapContainer: 'map-canvas',
			loadCallback: function () {

				//// Add the map marker for the place.
				responseHub.maps.addMarkerToMap(Number(@Model.Location.Coordinates.Latitude), Number(@Model.Location.Coordinates.Longitude));

			}
		};

	</script>
}